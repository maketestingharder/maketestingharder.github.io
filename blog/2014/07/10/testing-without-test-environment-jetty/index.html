
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Testing Without Test Environment - Jetty - Make Testing Harder</title>
  <meta name="author" content="Make Testing Harder">

  
  <meta name="description" content="So how it actually goes?
And the answer is, as always in IT world, it depends&hellip; For Jetty it&rsquo;s pretty simple. 1
start Jetty -&gt; deploy &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://maketestingharder.github.io/blog/2014/07/10/testing-without-test-environment-jetty/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Make Testing Harder" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="/javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=Dosis" rel="stylesheet" type="text/css">
<script src="https://apis.google.com/js/platform.js" async defer></script>

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-63295430-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <div style="float:right">
    <img src="/images/mth.png" width="150px" height="125px" />
  </div>
  <div style="align:bottom">
    <h1><a href="/">Make Testing Harder</a></h1>
    
    <h2>how simple tasks become complicated</h2>
    
  </div>
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="sitesearch" value="maketestingharder.github.io">
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archive">Archives</a></li>
  <li><a href="/communities/archive">Communities</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Testing Without Test Environment - Jetty</h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2014-07-10T21:44:39+02:00'><span class='date'><span class='date-month'>Jul</span> <span class='date-day'>10</span><span class='date-suffix'>th</span>, <span class='date-year'>2014</span></span> <span class='time'>9:44 pm</span></time>
        
           | <a href="#disqus_thread"
             data-disqus-identifier="http://maketestingharder.github.io">Comments</a>
        
      </p>
    
  </header>


<div class="entry-content"><p>So how it actually goes?
And the answer is, as always in IT world, it depends&hellip;</p>

<p>For Jetty it&rsquo;s pretty simple.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="n">start</span> <span class="n">Jetty</span> <span class="o">-&gt;</span> <span class="n">deploy</span> <span class="n">war</span> <span class="o">-&gt;</span> <span class="n">run</span> <span class="n">tests</span> <span class="o">-&gt;</span> <span class="n">stop</span> <span class="n">Jetty</span>
</span></code></pre></td></tr></table></div></figure>


<!-- more -->




<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'><span class="nt">&lt;plugin&gt;</span>
</span><span class='line'>    <span class="nt">&lt;groupId&gt;</span>org.eclipse.jetty<span class="nt">&lt;/groupId&gt;</span>
</span><span class='line'>    <span class="nt">&lt;artifactId&gt;</span>jetty-maven-plugin<span class="nt">&lt;/artifactId&gt;</span>
</span><span class='line'>    <span class="nt">&lt;version&gt;</span>9.0.0.M4<span class="nt">&lt;/version&gt;</span>
</span><span class='line'>    <span class="nt">&lt;configuration&gt;</span>
</span><span class='line'>        <span class="nt">&lt;war&gt;</span>${project.basedir}/webapp/frameworkHell.war<span class="nt">&lt;/war&gt;</span>
</span><span class='line'>        <span class="nt">&lt;webAppConfig&gt;</span>
</span><span class='line'>            <span class="nt">&lt;contextPath&gt;</span>/frameworkHell<span class="nt">&lt;/contextPath&gt;</span>
</span><span class='line'>        <span class="nt">&lt;/webAppConfig&gt;</span>
</span><span class='line'>    <span class="nt">&lt;/configuration&gt;</span>
</span><span class='line'>    <span class="nt">&lt;executions&gt;</span>
</span><span class='line'>        <span class="nt">&lt;execution&gt;</span>
</span><span class='line'>            <span class="nt">&lt;id&gt;</span>start-jetty<span class="nt">&lt;/id&gt;</span>
</span><span class='line'>            <span class="nt">&lt;phase&gt;</span>pre-integration-test<span class="nt">&lt;/phase&gt;</span>
</span><span class='line'>            <span class="nt">&lt;goals&gt;</span>
</span><span class='line'>                <span class="nt">&lt;goal&gt;</span>run-war<span class="nt">&lt;/goal&gt;</span>
</span><span class='line'>            <span class="nt">&lt;/goals&gt;</span>
</span><span class='line'>            <span class="nt">&lt;configuration&gt;</span>
</span><span class='line'>                <span class="nt">&lt;scanIntervalSeconds&gt;</span>0<span class="nt">&lt;/scanIntervalSeconds&gt;</span>
</span><span class='line'>                <span class="nt">&lt;daemon&gt;</span>true<span class="nt">&lt;/daemon&gt;</span>
</span><span class='line'>            <span class="nt">&lt;/configuration&gt;</span>
</span><span class='line'>        <span class="nt">&lt;/execution&gt;</span>
</span><span class='line'>        <span class="nt">&lt;execution&gt;</span>
</span><span class='line'>            <span class="nt">&lt;id&gt;</span>stop-jetty<span class="nt">&lt;/id&gt;</span>
</span><span class='line'>            <span class="nt">&lt;phase&gt;</span>post-integration-test<span class="nt">&lt;/phase&gt;</span>
</span><span class='line'>            <span class="nt">&lt;goals&gt;</span>
</span><span class='line'>                <span class="nt">&lt;goal&gt;</span>stop<span class="nt">&lt;/goal&gt;</span>
</span><span class='line'>            <span class="nt">&lt;/goals&gt;</span>
</span><span class='line'>            <span class="nt">&lt;configuration&gt;</span>
</span><span class='line'>                <span class="nt">&lt;stopKey&gt;</span>stopJetty<span class="nt">&lt;/stopKey&gt;</span>
</span><span class='line'>                <span class="nt">&lt;stopPort&gt;</span>9966<span class="nt">&lt;/stopPort&gt;</span>
</span><span class='line'>            <span class="nt">&lt;/configuration&gt;</span>
</span><span class='line'>        <span class="nt">&lt;/execution&gt;</span>
</span><span class='line'>    <span class="nt">&lt;/executions&gt;</span>
</span><span class='line'><span class="nt">&lt;/plugin&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>In order to do so we need to make sure that our application is build prior to test execution.
This is one of drawbacks, but main advantage is that if those tests will fail, main build does not.
All you need to do is add one more plugin (yep, one more!!) to your build section in pom file.</p>

<p>Above section does all you need. All you have to do is to properly set path to your war file, and decide under what context path your app will be available.</p>

<p>Just in case you&rsquo;d like to test it and you don&rsquo;t have war file you can use, take a look at my github, there&rsquo;s a simple web app that does nothing, it&rsquo;s a &ldquo;hello world&rdquo; example.</p>

<p>Why Jetty?
Because it&rsquo;s light, easy to use, and in most cases will be enough.
Sure, you can use Tomcat (will show next time how to do this) but do you really need it? It&rsquo;s quite heavy, and configuration sometimes can give you headache.
So if you don&rsquo;t use any fancy stuff like JMX, Jetty will do just best.</p>

<p>Next time GlassFish&hellip; heavy server&hellip; but worth trying.</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Make Testing Harder</span></span>

      




<time class='entry-date' datetime='2014-07-10T21:44:39+02:00'><span class='date'><span class='date-month'>Jul</span> <span class='date-day'>10</span><span class='date-suffix'>th</span>, <span class='date-year'>2014</span></span> <span class='time'>9:44 pm</span></time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/it-tests/'>it tests</a>, <a class='category' href='/blog/categories/java/'>java</a>, <a class='category' href='/blog/categories/jetty/'>jetty</a>, <a class='category' href='/blog/categories/maven/'>maven</a>, <a class='category' href='/blog/categories/pom/'>pom</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="//twitter.com/share" class="twitter-share-button" data-url="http://maketestingharder.github.io/blog/2014/07/10/testing-without-test-environment-jetty/" data-via="mktestingharder" data-counturl="http://maketestingharder.github.io/blog/2014/07/10/testing-without-test-environment-jetty/" >Tweet</a>
  
  
  <div class="g-plusone" data-size="medium"></div>
  
  
    <div class="fb-like" data-send="true" data-width="450" data-show-faces="false" style="color:white"></div>
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2014/06/17/testing-without-test-environment/" title="Previous Post: testing without test environment">&laquo; testing without test environment</a>
      
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2014/07/10/testing-without-test-environment-jetty/">Testing Without Test Environment - Jetty</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/06/17/testing-without-test-environment/">Testing Without Test Environment</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/12/09/state-of-testing/">State of Testing?</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/12/07/framework-hell-number-2/">Framework Hell #2</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/12/01/framework-hell-number-1-dot-6/">Framework Hell #1.6</a>
      </li>
    
  </ul>
</section>
<section>
<a href="https://www.facebook.com/maketestingharder">
<img class="img" src="https://badge.facebook.com/badge/324097027732245.733.1168260667.png" style="border: 0px;" />
</a>
</section>
<section>
  <div class="g-page" data-width="180" data-href="//plus.google.com/u/0/100652152372896520776" data-theme="dark" data-showtagline="false" data-showcoverphoto="false" data-rel="publisher"></div>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'maketestingharder',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>

<section>
  <h1>Tag Cloud</h1>
    <span id="tag-cloud"><a href='/blog/categories/cucumber' style='font-size: 120.0%'>cucumber(2)</a> <a href='/blog/categories/github' style='font-size: 110.0%'>github(1)</a> <a href='/blog/categories/glassfish' style='font-size: 110.0%'>glassfish(1)</a> <a href='/blog/categories/groovy' style='font-size: 130.0%'>groovy(3)</a> <a href='/blog/categories/it-tests' style='font-size: 120.0%'>it tests(2)</a> <a href='/blog/categories/java' style='font-size: 160.0%'>java(6)</a> <a href='/blog/categories/jbehave' style='font-size: 120.0%'>jbehave(2)</a> <a href='/blog/categories/jetty' style='font-size: 120.0%'>jetty(2)</a> <a href='/blog/categories/junit' style='font-size: 140.0%'>junit(4)</a> <a href='/blog/categories/maven' style='font-size: 150.0%'>maven(5)</a> <a href='/blog/categories/pom' style='font-size: 150.0%'>pom(5)</a> <a href='/blog/categories/spock' style='font-size: 130.0%'>spock(3)</a> <a href='/blog/categories/surefire' style='font-size: 130.0%'>surefire(3)</a> <a href='/blog/categories/testng' style='font-size: 140.0%'>testng(4)</a> <a href='/blog/categories/tomcat' style='font-size: 110.0%'>tomcat(1)</a> <a href='/blog/categories/tutorial' style='font-size: 150.0%'>tutorial(5)</a> <a href='/blog/categories/unit-tests' style='font-size: 110.0%'>unit tests(1)</a> </span>
</section>

  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2015 -
  <a href="mailto:maketestingharder@gmail.com"> Make Testing Harder </a>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'maketestingharder';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://maketestingharder.github.io/blog/2014/07/10/testing-without-test-environment-jetty/';
        var disqus_url = 'http://maketestingharder.github.io/blog/2014/07/10/testing-without-test-environment-jetty/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id; js.async = true;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
